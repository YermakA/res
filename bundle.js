(()=>{"use strict";var e={44:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(81),l=i.n(n),o=i(645),s=i.n(o)()(l());s.push([e.id,".game{display:grid;grid-template-columns:1fr auto 1fr;margin-bottom:50px;gap:2rem}.game-field{display:flex;flex-direction:column;align-items:center;grid-column-start:2;grid-column-end:2}.aside{display:none;position:relative}.records{color:var(--text-color);table-layout:fixed;font-size:18px}.records>thead>tr>th{padding:5px}.records>thead>tr>th>thead>tr>th{background-color:var(--bg-color)}.records>tbody>tr>td{background-color:var(--bg-color)}.records>tbody>tr>td{padding:5px;text-align:center}@media screen and (max-width: 1000px){.game{display:flex;justify-content:center;flex-wrap:wrap;flex-direction:column;align-items:center}}.options{margin-bottom:50px;display:flex;align-items:center;justify-content:center;background:var(--options-color)}.options-container{display:flex;align-items:center;flex-wrap:wrap}.level{color:var(--text-color);appearance:none;padding:5px;background:none;border:1px solid var(--br-color);outline:0px;font-size:18px}.level-label{font-size:18px;color:var(--lb-color)}.level>optgroup{background:var(--options-color)}.level>optgroup>option{color:var(--text-color);background:var(--bg-color)}.level>optgroup>option:hover{cursor:pointer}.level:hover{cursor:pointer;background:var(--bg-color)}.btn{color:var(--text-color);background:none;font-size:18px;border:none;padding:7px}.btn:hover{cursor:pointer;background:var(--bg-color)}@media screen and (max-width: 1194px){.container{display:grid;grid-template-columns:1fr 1fr;width:100%}.level-div{display:flex;width:100%;align-items:center;justify-content:center}}@media screen and (max-width: 800px){.container{flex-direction:column;align-items:center;width:inherit}.level-label{display:none}.btn{width:100%}}@media screen and (max-width: 520px){.container{grid-template-columns:1fr}}.timer{color:var(--text-color);margin:0;font-size:24px;width:114px;padding:14px 28px;border:var(--br-color) 1px solid;border-radius:100px;margin-bottom:20px}dialog{padding:0;margin:auto;border:none;border-radius:10px;background:var(--bg-color)}.modal-content{padding:15px;width:100%;height:100%;background:var(--bg-color);color:var(--text-color);border-radius:10px;display:flex;flex-direction:column;align-items:center}.modal-title{color:var(--text-color);text-align:center;font-size:24px}.close:hover{border-radius:10px;cursor:pointer;background:var(--options-color)}.header{margin-top:20px;display:flex;margin-bottom:20px;justify-content:center;gap:10px;align-items:center}.title{color:var(--text-color)}.wave{display:none}.circle-svg{width:24px;height:24px;position:relative;left:0}.change-theme{display:flex;margin:0;padding:0;background:none;width:40px;height:25px;border-radius:50px;border:1px solid var(--br-color)}.change-theme:hover{cursor:pointer}.sound{width:30px;height:30px;cursor:pointer;fill:var(--text-color)}.sound:active{width:25px;height:25px}@keyframes active{from{transform:rotate(0turn)}to{left:45%;transform:rotate(1turn)}}.darkTheme-hover-color{border:1px solid #e5e5e5}.darkTheme-hover-color:hover{cursor:pointer;background:#2b2e2f}.darkTheme-bg-records>thead>tr>th{background-color:#000000}.darkTheme-bg-records>tbody>tr>td{background-color:#000000}.darkTheme-br{border:white 1px solid}*{margin:0;box-sizing:border-box}body{--bg-color: #DBDDDA;--options-color: #b8bcb6;--br-color: black;--lb-color: #e5e5e5;--text-color: black}body.dark-theme{background:#323441;--bg-color: #4c4f6286;--options-color: #3c405a;--br-color: white;--lb-color: #8db7ff;--text-color: #e0dede}\n",""]);const r=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,l,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(s[a]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);n&&s[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),l&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=l):h[4]="".concat(l)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var o={},s=[],r=0;r<e.length;r++){var a=e[r],c=n.base?a[0]+n.base:a[0],h=o[c]||0,d="".concat(c," ").concat(h);o[c]=h+1;var u=i(d),m={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var g=l(m,n);n.byIndex=r,t.splice(r,0,{identifier:d,updater:g,references:1})}s.push(d)}return s}function l(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,l){var o=n(e=e||[],l=l||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var r=i(o[s]);t[r].references--}for(var a=n(e,l),c=0;c<o.length;c++){var h=i(o[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}o=a}}},569:e=>{var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var l=void 0!==i.layer;l&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,l&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var l=n.length-1;l>-1&&!e;)e=n[l--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i.nc=void 0;var n={};(()=>{i.d(n,{nf:()=>M,go:()=>O,Hz:()=>X,eq:()=>H});var e=i(379),t=i.n(e),l=i(795),o=i.n(l),s=i(569),r=i.n(s),a=i(565),c=i.n(a),h=i(216),d=i.n(h),u=i(589),m=i.n(u),g=i(44),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=r().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),t()(g.Z,f),g.Z&&g.Z.locals&&g.Z.locals;const p={easy:{name:"easy",levels:[[{name:"Похоже на 14-ю букву алфавита"},[[1,1,0,1,1],[1,1,0,1,1],[1,1,1,1,1],[1,1,0,1,1],[1,1,0,1,1]]],[{name:"Что-то про Малевича"},[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1]]],[{name:"Элемент игры 'Крестики-нолики'"},[[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]]],[{name:"Тринадцатая буква алфавита"},[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]]],[{name:"Десятая буква алфавита"},[[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1]]]]},normal:{name:"normal",levels:[[{name:"Цифра восемь"},[[0,0,0,1,1,1,1,0,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0]]],[{name:"Космический корабль"},[[0,0,1,0,0,0,0,1,0,0],[0,0,1,1,0,0,1,1,0,0],[0,0,1,0,1,1,0,1,0,0],[0,0,1,0,1,1,0,1,0,0],[1,0,1,0,1,1,0,1,0,1],[1,1,1,0,1,1,0,1,1,1],[0,1,1,1,1,1,1,1,1,0],[0,0,1,1,0,0,1,1,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,0,0,1,1,0,0,0,0]]],[{name:"Это просто дерево."},[[0,0,0,0,1,1,0,0,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,1,1,0,1,1,1,0,0],[0,1,1,0,1,1,1,1,1,0],[1,1,0,1,1,1,0,0,1,1],[1,1,1,1,1,1,1,1,1,1],[0,1,1,0,1,1,0,1,1,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,0,0]]],[{name:"Символ N"},[[1,1,0,0,0,0,1,1,1,0],[1,1,1,0,0,0,0,1,1,1],[1,1,1,1,0,0,0,1,1,1],[1,1,1,1,1,0,0,1,1,1],[1,1,1,1,1,1,0,1,1,1],[1,1,1,0,1,1,1,1,1,1],[1,1,1,0,0,1,1,1,1,1],[1,1,1,0,0,0,1,1,1,1],[1,1,1,0,0,0,0,1,1,1],[0,1,1,1,0,0,0,0,1,1]]],[{name:"Символ $"},[[0,0,0,0,1,0,0,0,0,0],[0,0,1,1,1,1,1,1,0,0],[0,1,0,0,1,0,0,0,0,0],[0,1,0,0,1,0,0,0,0,0],[0,1,0,0,1,0,0,0,0,0],[0,0,1,1,1,1,1,0,0,0],[0,0,0,0,1,0,0,1,0,0],[0,0,0,0,1,0,0,1,0,0],[0,1,1,1,1,1,1,0,0,0],[0,0,0,0,1,0,0,0,0,0]]]]},hard:{name:"hard",levels:[[{name:"И это лось?"},[[1,1,0,1,1,0,0,0,0,1,1,0,1,1,1],[1,1,0,1,1,0,1,0,0,1,0,1,1,0,1],[0,1,1,1,1,0,1,0,0,1,0,1,1,0,1],[0,0,1,1,1,1,1,0,0,0,1,1,1,1,1],[0,0,0,0,1,1,0,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,1,0,1,0,1,1,1,1,1,0],[0,0,0,0,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,0,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1]]],[{name:"Внимание слон!"},[[0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],[0,0,1,1,1,1,0,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[0,1,0,1,1,1,1,0,1,1,0,0,0,0,1],[0,1,1,1,1,1,1,0,1,1,1,0,0,1,1],[0,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,1,1,1,1,1,0,1,1,1,1,1,1,1,1],[0,1,0,0,0,1,1,1,1,1,1,1,1,1,1],[0,1,0,1,0,1,1,1,1,0,0,1,1,1,1],[0,1,1,1,0,1,1,1,1,0,0,1,1,1,1],[0,0,0,0,0,1,1,1,1,0,0,1,1,1,1],[0,0,0,0,0,1,1,1,1,0,0,1,1,1,1],[0,0,0,0,0,1,1,1,1,0,0,1,1,1,1]]],[{name:"Домик в деревне"},[[0,0,0,1,1,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,0,1,0,0,0,1,0,0,0,0,0],[0,1,0,1,0,1,0,0,0,1,0,0,0,0,0],[1,0,0,1,0,1,1,0,0,1,1,1,1,1,0],[1,1,0,1,0,0,1,0,0,1,1,0,0,0,1],[0,1,0,1,0,1,0,0,0,1,0,0,0,0,0],[0,1,0,1,0,1,0,0,1,0,0,0,0,0,0],[0,1,0,1,1,0,0,1,1,0,1,1,1,1,0],[0,0,1,1,0,0,0,0,1,0,1,0,0,1,0],[0,0,0,1,0,0,0,0,1,0,1,1,1,1,0],[0,0,0,1,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,1,1,1,1],[0,1,1,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]],[{name:"Брутальное Солнце!"},[[0,1,0,0,1,0,0,1,0,0,0,0,1,0,0],[0,0,1,0,1,1,1,1,1,1,1,1,0,0,1],[1,0,0,1,1,0,0,0,0,0,0,1,0,1,0],[0,1,0,1,0,0,1,0,0,1,0,0,1,0,0],[0,0,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,1,0,0,1,0,0,0,0,1,0,0,0,1,1],[0,1,0,0,0,1,1,1,1,0,0,0,0,1,0],[1,1,1,0,0,0,0,0,0,0,1,1,1,1,0],[0,0,0,1,1,0,0,1,1,1,1,0,1,0,1],[0,0,0,0,1,1,1,1,1,1,1,0,0,1,0],[0,0,0,1,0,0,0,1,0,0,0,1,0,0,1],[0,0,1,0,0,0,0,1,0,0,0,0,1,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],[1,0,0,0,0,0,0,1,0,0,0,0,0,0,1]]],[{name:"Пиксельный динозаврик"},[[0,0,0,0,0,0,0,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,1,1,0,1,1,1,1,0,0],[0,0,0,0,0,0,1,1,1,1,1,1,1,0,0],[1,0,0,0,0,0,1,1,1,1,0,0,0,0,0],[1,0,0,0,0,1,1,1,1,1,1,1,1,0,0],[1,1,0,0,1,1,1,1,1,1,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,1,1,1,1,1,1,1,1,1,0,1,0,0,0],[0,0,1,1,1,1,1,1,1,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0,0,0,0],[0,0,0,1,1,1,0,1,1,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,1,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,1,1,0,0,0,0,0]]]]}};function v(e){let t=0;for(let i=0;i<e.length;i++)for(let n=0;n<e[i].length;n++)1===e[i][n]&&(t+=1);return t}const S=i.p+"5131c56ea28ca3e8e67b5828df69dd65.mp3",x=i.p+"29ac9d38c7e4eca1749a6a0e564735f9.mp3",y=i.p+"fddc73ca13432374b96610d8e0e4b766.mp3";class b{static actionsStack=[];static gridLength=0;static GRIDBuffer;static GRID;static ceilSize=20;static rowCeils=[];static columnCeils=[];static canvasWidth=0;static canvasHeight=0;static lineGapY=5;static lineGapX=5;static maxRowLength=0;static maxColumnLength=0;static colorOne="#000";static colorTwo="#fff";static colorThree="#cccccc";static initializeGrid(e){this.GRID=e,this.gridLength=e.length,this.GRIDBuffer=Array(this.gridLength).fill(0).map((()=>Array(this.gridLength).fill(0))),this.#e(),this.#t(),this.#i(),this.#n(),this.#l(),this.#o(),this.#s(),document.getElementById("canvas").addEventListener("contextmenu",(e=>{e.preventDefault()}),!1)}static#i(){this.canvasHeight=(this.gridLength+this.maxColumnLength)*this.ceilSize+this.lineGapX*Math.round(this.gridLength/this.lineGapX),this.canvasWidth=(this.gridLength+this.maxRowLength)*this.ceilSize+this.lineGapY*Math.round(this.gridLength/this.lineGapY)}static#n(){const e=document.createElement("canvas");e.width=this.canvasWidth,e.height=this.canvasHeight,e.style.border=`1px solid ${this.colorOne}`,e.id="canvas",document.querySelector(".game-field").insertAdjacentHTML("beforeend",e.outerHTML)}static#s(){const e=document.getElementById("canvas").getContext("2d");e.lineWidth=5;const t=5*Math.floor(this.gridLength/5);for(let i=0;i<this.gridLength;i+=5){const n=i*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapY,l=i*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapX;this.lineGapY+=5,this.lineGapX+=5,e.strokeStyle=`${this.colorOne}`,e.beginPath(),e.moveTo(n-2,0),e.lineTo(n-2,this.gridLength*this.ceilSize+this.maxColumnLength*this.ceilSize+t),e.stroke(),e.beginPath(),e.moveTo(0,l-2),e.lineTo(this.gridLength*this.ceilSize+this.maxRowLength*this.ceilSize+t,l-2),e.stroke()}e.lineWidth=1,this.lineGapY=5,this.lineGapX=5}static#o(){const e=document.getElementById("canvas").getContext("2d");for(let t=0;t<this.gridLength;t++){const i=t*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapX;for(let t=0;t<this.gridLength;t++){e.strokeStyle=this.colorOne;const n=t*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapY;e.strokeRect(n,i,this.ceilSize,this.ceilSize),e.fillStyle=this.colorTwo,e.fillRect(n+2,i+2,this.ceilSize-3,this.ceilSize-3),(t+1)%5==0&&(this.lineGapY+=5)}this.lineGapY=5,(t+1)%5==0&&(this.lineGapX+=5)}this.lineGapX=5}static fillCell(e){const t=document.getElementById("canvas"),i=t.getBoundingClientRect().left,n=t.getBoundingClientRect().top,l=e.clientX-i,o=e.clientY-n,s=t.getContext("2d");let r=-1;for(let e=0;e<this.gridLength;e++){const t=e*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapX;for(let i=0;i<this.gridLength;i++){const n=i*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapY;l>n&&l<n+this.ceilSize&&o>t&&o<t+this.ceilSize&&(1===this.GRIDBuffer[e][i]?(this.GRIDBuffer[e][i]=0,s.fillStyle=this.colorTwo,H&&new Audio(x).play(),s.fillRect(n+2,t+2,this.ceilSize-3,this.ceilSize-3),r=2):(this.GRIDBuffer[e][i]=1,s.fillStyle=this.colorOne,H&&new Audio(S).play(),s.fillRect(n+2,t+2,this.ceilSize-4,this.ceilSize-4),r=2)),(i+1)%5==0&&(this.lineGapY+=5)}this.lineGapY=5,(e+1)%5==0&&(this.lineGapX+=5)}return this.lineGapX=5,r}static strokeCell(e){const t=document.getElementById("canvas"),i=t.getBoundingClientRect().left,n=t.getBoundingClientRect().top,l=e.clientX-i,o=e.clientY-n,s=t.getContext("2d");let r=-1;for(let e=0;e<this.gridLength;e++){const t=e*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapX;for(let i=0;i<this.gridLength;i++){const n=i*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapY;l>n&&l<n+this.ceilSize&&o>t&&o<t+this.ceilSize&&(2===this.GRIDBuffer[e][i]?(this.GRIDBuffer[e][i]=0,s.fillStyle=this.colorTwo,H&&new Audio(x).play(),s.fillRect(n+2,t+2,this.ceilSize-3,this.ceilSize-3),r=0):(this.GRIDBuffer[e][i]=2,H&&new Audio(y).play(),s.fillStyle=this.colorTwo,s.fillRect(n+2,t+2,this.ceilSize-3,this.ceilSize-3),s.beginPath(),s.moveTo(n+3,t+3),s.lineTo(n+this.ceilSize-3,t+this.ceilSize-3),s.stroke(),s.beginPath(),s.moveTo(n+3,t+this.ceilSize-3),s.lineTo(n+this.ceilSize-3,t+3),s.stroke(),r=0)),(i+1)%5==0&&(this.lineGapY+=5)}this.lineGapY=5,(e+1)%5==0&&(this.lineGapX+=5)}return this.lineGapY=5,this.lineGapX=5,r}static#e(){this.rowCeils=[];for(let e=0;e<this.gridLength;e++){const t=[];let i=0;for(let n=0;n<this.gridLength;n++)1===this.GRID[e][n]&&n+1===this.gridLength?(i++,t.push(i)):1===this.GRID[e][n]?i++:n+1===this.gridLength&&i>0?t.push(i):0===this.GRID[e][n]&&i>0&&(t.push(i),i=0);this.rowCeils.push(t)}for(let e=0;e<this.gridLength;e++)this.maxRowLength<this.rowCeils[e].length&&(this.maxRowLength=this.rowCeils[e].length)}static#t(){this.columnCeils=[];for(let e=0;e<this.gridLength;e++){const t=[];let i=0;for(let n=0;n<this.gridLength;n++)1===this.GRID[n][e]&&n+1===this.gridLength?(i++,t.push(i)):1===this.GRID[n][e]?i++:n+1===this.gridLength&&i>0?t.push(i):0===this.GRID[n][e]&&i>0&&(t.push(i),i=0);this.columnCeils.push(t)}for(let e=0;e<this.gridLength;e++)this.maxColumnLength<this.columnCeils[e].length&&(this.maxColumnLength=this.columnCeils[e].length)}static getRowsHints(){return JSON.parse(JSON.stringify(this.rowCeils))}static getColumnsHints(){return JSON.parse(JSON.stringify(this.columnCeils))}static#l(){const e=document.getElementById("canvas").getContext("2d");for(let t=0;t<this.columnCeils.length;t++){for(let i=0;i<this.maxColumnLength;i++){const n=t*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapX,l=i*this.ceilSize;e.strokeStyle=this.colorThree,e.strokeRect(n,l,this.ceilSize,this.ceilSize),e.fillStyle=this.colorThree,e.fillRect(n+1,l+1,this.ceilSize-2,this.ceilSize-2)}(t+1)%5==0&&(this.lineGapX+=5)}this.lineGapX=5;for(let t=0;t<this.columnCeils.length;t++){let i=this.maxColumnLength-1;for(let n=this.maxColumnLength-1;n>=0;n--){const l=t*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapX,o=this.ceilSize*i;this.columnCeils[t][n]&&(e.fillStyle=this.colorOne,e.font="bold 14px Arial",e.textAlign="left",e.textBaseline="top",this.columnCeils[t][n]>9?e.fillText(this.columnCeils[t][n],l+2,o+5):e.fillText(this.columnCeils[t][n],l+6,o+5),i-=1)}(t+1)%5==0&&(this.lineGapX+=5)}for(let t=0;t<this.rowCeils.length;t++){for(let i=0;i<this.maxRowLength;i++){const n=i*this.ceilSize,l=t*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapY;e.strokeRect(n,l,this.ceilSize,this.ceilSize),e.fillStyle=this.colorThree,e.fillRect(n+1,l+1,this.ceilSize-2,this.ceilSize-2)}(t+1)%5==0&&(this.lineGapY+=5)}this.lineGapY=5;for(let t=0;t<this.rowCeils.length;t++){let i=this.maxRowLength-1;for(let n=this.maxRowLength-1;n>=0;n--){const l=this.ceilSize*i,o=t*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapY;this.rowCeils[t][n]&&(e.fillStyle=this.colorOne,e.font="bold 14px Arial",e.textAlign="left",e.textBaseline="top",this.rowCeils[t][n]>9?e.fillText(this.rowCeils[t][n],l+2,o+5):e.fillText(this.rowCeils[t][n],l+6,o+5),i-=1)}(t+1)%5==0&&(this.lineGapY+=5)}this.lineGapY=5,this.lineGapX=5}static strokeHints(e){const t=document.getElementById("canvas"),i=t.getBoundingClientRect().left,n=t.getBoundingClientRect().top,l=e.clientX-i,o=e.clientY-n,s=t.getContext("2d");let r=-1;if(l>this.maxRowLength*this.ceilSize&&o<this.maxColumnLength*this.ceilSize)for(let e=0;e<this.columnCeils.length;e++){let t=this.maxColumnLength-1;for(let i=this.maxColumnLength-1;i>=0;i--){const n=e*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapX,a=this.ceilSize*t;this.columnCeils[e][i]&&(l>n&&l<n+this.ceilSize&&o>a&&o<a+this.ceilSize&&("string"==typeof this.columnCeils[e][i]?(H&&new Audio(x).play(),this.columnCeils[e][i]=Number(this.columnCeils[e][i]),s.fillStyle=this.colorThree,s.fillRect(n+1,a+1,this.ceilSize-2,this.ceilSize-2),s.fillStyle=this.colorOne,s.font="bold 14px Arial",s.textAlign="left",s.textBaseline="top",this.columnCeils[e][i]>9?s.fillText(this.columnCeils[e][i],n+2,a+5):s.fillText(this.columnCeils[e][i],n+6,a+5),r=1):(H&&new Audio(y).play(),this.columnCeils[e][i]=this.columnCeils[e][i].toString(),s.beginPath(),s.strokeStyle=this.colorTwo,s.lineWidth=2,s.moveTo(n+3,a+3),s.lineTo(n+this.ceilSize-3,a+this.ceilSize-3),s.stroke(),s.beginPath(),s.moveTo(n+3,a+this.ceilSize-3),s.lineTo(n+this.ceilSize-3,a+3),s.stroke(),s.strokeStyle=this.colorOne,r=1)),t-=1)}(e+1)%5==0&&(this.lineGapX+=5)}else if(l<this.maxRowLength*this.ceilSize&&o>this.maxColumnLength*this.ceilSize)for(let e=0;e<this.rowCeils.length;e++){let t=this.maxRowLength-1;for(let i=this.maxRowLength-1;i>=0;i--){const n=this.ceilSize*t,a=e*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapY;this.rowCeils[e][i]&&(l>n&&l<n+this.ceilSize&&o>a&&o<a+this.ceilSize&&("string"==typeof this.rowCeils[e][i]?(H&&new Audio(x).play(),this.rowCeils[e][i]=Number(this.rowCeils[e][i]),s.fillStyle=this.colorThree,s.fillRect(n+1,a+1,this.ceilSize-2,this.ceilSize-2),s.fillStyle=this.colorOne,s.font="bold 14px Arial",s.textAlign="left",s.textBaseline="top",this.rowCeils[e][i]>9?s.fillText(this.rowCeils[e][i],n+2,a+5):s.fillText(this.rowCeils[e][i],n+6,a+5),r=1):(H&&new Audio(y).play(),this.rowCeils[e][i]=this.rowCeils[e][i].toString(),s.beginPath(),s.strokeStyle=this.colorTwo,s.lineWidth=2,s.moveTo(n+3,a+3),s.lineTo(n+this.ceilSize-3,a+this.ceilSize-3),s.stroke(),s.beginPath(),s.moveTo(n+3,a+this.ceilSize-3),s.lineTo(n+this.ceilSize-3,a+3),s.stroke(),s.strokeStyle=this.colorOne,r=1)),t-=1)}(e+1)%5==0&&(this.lineGapY+=5)}return this.lineGapY=5,this.lineGapX=5,r}static addActionIntoStack(e,t){const{clientX:i,clientY:n}=t;this.actionsStack.push([e,{clientX:i,clientY:n}])}static prevState(){const e=this.actionsStack.pop();e&&e[0].call(b,e[1])}static drawDecision(){const e=document.getElementById("canvas").getContext("2d");for(let t=0;t<this.gridLength;t++){const i=t*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapX;for(let n=0;n<this.gridLength;n++){const l=n*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapY;1===this.GRID[t][n]&&(e.fillStyle=this.colorOne,e.fillRect(l+2,i+2,this.ceilSize-4,this.ceilSize-4)),(n+1)%5==0&&(this.lineGapY+=5)}this.lineGapY=5,(t+1)%5==0&&(this.lineGapX+=5)}this.lineGapX=5}static resetGame(){this.GRIDBuffer=Array(this.gridLength).fill(0).map((()=>Array(this.gridLength).fill(0))),this.#l(),this.#o(),this.#s(),this.#t(),this.#e()}static continueGame(){const e=document.getElementById("canvas").getContext("2d");for(let t=0;t<this.gridLength;t++){const i=t*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapX;for(let n=0;n<this.gridLength;n++){const l=n*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapY;1===this.GRIDBuffer[t][n]&&(e.fillStyle=this.colorOne,e.fillRect(l+2,i+2,this.ceilSize-4,this.ceilSize-4)),(n+1)%5==0&&(this.lineGapY+=5)}this.lineGapY=5,(t+1)%5==0&&(this.lineGapX+=5)}this.lineGapX=5;for(let t=0;t<this.columnCeils.length;t++){let i=this.maxColumnLength-1;for(let n=this.maxColumnLength-1;n>=0;n--){const l=t*this.ceilSize+this.maxRowLength*this.ceilSize+this.lineGapX,o=this.ceilSize*i;this.columnCeils[t][n]&&("string"==typeof this.columnCeils[t][n]?(e.beginPath(),e.strokeStyle=this.colorTwo,e.lineWidth=2,e.moveTo(l+3,o+3),e.lineTo(l+this.ceilSize-3,o+this.ceilSize-3),e.stroke(),e.beginPath(),e.moveTo(l+3,o+this.ceilSize-3),e.lineTo(l+this.ceilSize-3,o+3),e.stroke(),e.strokeStyle=this.colorOne):(e.fillStyle=this.colorThree,e.fillRect(l+1,o+1,this.ceilSize-2,this.ceilSize-2),e.fillStyle=this.colorOne,e.font="bold 14px Arial",e.textAlign="left",e.textBaseline="top",this.columnCeils[t][n]>9?e.fillText(this.columnCeils[t][n],l+2,o+5):e.fillText(this.columnCeils[t][n],l+6,o+5)),i-=1)}(t+1)%5==0&&(this.lineGapX+=5)}for(let t=0;t<this.rowCeils.length;t++){let i=this.maxRowLength-1;for(let n=this.maxRowLength-1;n>=0;n--){const l=this.ceilSize*i,o=t*this.ceilSize+this.maxColumnLength*this.ceilSize+this.lineGapY;this.rowCeils[t][n]&&("string"==typeof this.rowCeils[t][n]?(e.beginPath(),e.strokeStyle=this.colorTwo,e.lineWidth=2,e.moveTo(l+3,o+3),e.lineTo(l+this.ceilSize-3,o+this.ceilSize-3),e.stroke(),e.beginPath(),e.moveTo(l+3,o+this.ceilSize-3),e.lineTo(l+this.ceilSize-3,o+3),e.stroke(),e.strokeStyle=this.colorOne):(e.fillStyle=this.colorThree,e.fillRect(l+1,o+1,this.ceilSize-2,this.ceilSize-2),e.fillStyle=this.colorOne,e.font="bold 14px Arial",e.textAlign="left",e.textBaseline="top",this.rowCeils[t][n]>9?e.fillText(this.rowCeils[t][n],l+2,o+5):e.fillText(this.rowCeils[t][n],l+6,o+5)),i-=1)}(t+1)%5==0&&(this.lineGapY+=5)}this.lineGapX=5,this.lineGapY=5}static getGridBuffer(){return JSON.parse(JSON.stringify(this.GRIDBuffer))}static getGrid(){return JSON.parse(JSON.stringify(this.GRID))}static setGrid(e){this.GRID=e}static setGridBuffer(e){this.GRIDBuffer=e}static setRowsHints(e){this.rowCeils=e}static setColumnsHints(e){this.columnCeils=e}static deleteGrid(){const e=document.getElementById("canvas");this.actionsStack=[],this.gridLength=0,this.rowCeils=[],this.columnCeils=[],this.canvasWidth=0,this.canvasHeight=0,this.lineGapY=5,this.lineGapX=5,this.maxRowLength=0,this.maxColumnLength=0,e.remove()}static changeColor(e,t,i){this.colorOne=e,this.colorTwo=t,this.colorThree=i}}function w(e){return{value:e}}const C=i.p+"800a4a810cba427d4934ef8c5dd10f96.mp3";function G(e){const t=document.querySelector(".timer"),i=++e.value,n=Math.floor(i/60)>=10?Math.floor(i/60):"0"+Math.floor(i/60),l=i%60>=10?i%60:"0"+i%60;t.textContent=n+":"+l}let z=!0;function L(e){z&&(z=!1,document.querySelector(".aside").style.display="block"),document.querySelector("tbody").innerHTML=`\n     ${e.toSorted(((e,t)=>e.time-t.time)).map((e=>{const t=e.time,i=Math.floor(t/60)>=10?Math.floor(t/60):"0"+Math.floor(t/60),n=t%60>=10?t%60:"0"+t%60;return`<tr><td>${e.name}</td><td>${i}:${n}</td><td>${e.level.split(" ")[0]+" "+e.level.split(" ")[2]}</td></tr>`})).join("")}\n      `,localStorage.setItem("records",JSON.stringify(e))}const k=w({}),T=[];let R=0,I=!0,B=!1,A=0,H=!0;const M=Math.round(4*Math.random()),E=w(0),O=w(!0);let Y,q=-1;if(function(){const e=document.querySelector("body");e.insertAdjacentHTML("beforeend",'\n    <header class="header">\n    <button class="change-theme">\n      <svg\n      class="circle-svg"\n      width="70.000000" height="70.000000" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t<defs>\n\t\t<filter id="filter_3_1_dd" x="0.000000" y="0.000000" width="70.000000" height="70.000000" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n\t\t\t<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n\t\t\t<feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>\n\t\t\t<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n\t\t\t<feOffset dx="0" dy="4"/>\n\t\t\t<feGaussianBlur stdDeviation="1.33333"/>\n\t\t\t<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n\t\t\t<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n\t\t\t<feBlend mode="normal" in2="shape" result="effect_innerShadow_1"/>\n\t\t</filter>\n\t\t<filter id="filter_3_2_dd" x="38.000000" y="15.000000" width="20.000000" height="20.000000" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n\t\t\t<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n\t\t\t<feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>\n\t\t\t<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n\t\t\t<feOffset dx="0" dy="4"/>\n\t\t\t<feGaussianBlur stdDeviation="1.33333"/>\n\t\t\t<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n\t\t\t<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n\t\t\t<feBlend mode="normal" in2="shape" result="effect_innerShadow_1"/>\n\t\t</filter>\n\t</defs>\n\t<g filter="url(#filter_3_1_dd)">\n\t\t<circle\n    id="Oval-1" cx="35.000000" cy="35.000000" r="35.000000" fill="#000000" fill-opacity="1.000000"/>\n\t</g>\n\t<g filter="url(#filter_3_2_dd)">\n\t\t<circle id="Oval-2" cx="48.000000" cy="25.000000" r="10.000000" fill="#FFFFFF" fill-opacity="1.000000"/>\n\t</g>\n</svg>\n\n      </button>\n      <h1 class="title">Nonograms game</h1>\n      <svg class="sound" width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path class="sound" fill-rule="evenodd" clip-rule="evenodd" d="M10.4 1.8C11.5532 0.262376 14 1.07799 14 3.00001V21.1214C14 23.0539 11.5313 23.8627 10.3878 22.3049L6.49356 17H4C2.34315 17 1 15.6569 1 14V10C1 8.34315 2.34315 7 4 7H6.5L10.4 1.8ZM12 3L8.1 8.2C7.72229 8.70361 7.12951 9 6.5 9H4C3.44772 9 3 9.44772 3 10V14C3 14.5523 3.44772 15 4 15H6.49356C7.13031 15 7.72901 15.3032 8.10581 15.8165L12 21.1214V3Z" fill="#0F0F0F"/>\n  <path class="sound" d="M16.2137 4.17445C16.1094 3.56451 16.5773 3 17.1961 3C17.6635 3 18.0648 3.328 18.1464 3.78824C18.4242 5.35347 19 8.96465 19 12C19 15.0353 18.4242 18.6465 18.1464 20.2118C18.0648 20.672 17.6635 21 17.1961 21C16.5773 21 16.1094 20.4355 16.2137 19.8256C16.5074 18.1073 17 14.8074 17 12C17 9.19264 16.5074 5.8927 16.2137 4.17445Z" fill="#0F0F0F"/>\n  <path class="sound" d="M21.41 5C20.7346 5 20.2402 5.69397 20.3966 6.35098C20.6758 7.52413 21 9.4379 21 12C21 14.5621 20.6758 16.4759 20.3966 17.649C20.2402 18.306 20.7346 19 21.41 19C21.7716 19 22.0974 18.7944 22.2101 18.4509C22.5034 17.5569 23 15.5233 23 12C23 8.47672 22.5034 6.44306 22.2101 5.54913C22.0974 5.20556 21.7716 5 21.41 5Z" fill="#0F0F0F"/>\n  </svg>\n    </header>\n  '),e.insertAdjacentHTML("beforeend",'\n    <dialog >\n    <div class="modal-content">\n        <div class="modal-title"></div>\n          <button class="close btn" type="submit">Играть снова</button>\n        </div>\n    </dialog >'),e.insertAdjacentHTML("beforeend",'<section class="options"></section>'),e.insertAdjacentHTML("beforeend",'<section class="game"></section>');const t=document.querySelector(".game");t.insertAdjacentHTML("beforeend","<div class='game-field'></div>"),document.querySelector(".game-field").insertAdjacentHTML("afterbegin",'<div class="timer">00:00</div>'),t.insertAdjacentHTML("beforeend",'<aside class="aside">\n      <table class="records">\n        <thead>\n          <th>Название игры</th>\n          <th>Время</th>\n          <th>Уровень</th>\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n    </aside>'),document.querySelector(".options").insertAdjacentHTML("beforeend",'<div class="container options-container"></div>');const i=document.querySelector(".options-container");i.insertAdjacentHTML("beforeend",'<button class="save btn">Сохранить игру</button>'),i.insertAdjacentHTML("beforeend",'<button class="reset btn">Сбросить игру</button>'),i.insertAdjacentHTML("beforeend",'<button class="decision btn">Решение</button>'),i.insertAdjacentHTML("beforeend",'<button class="continue btn" >Продолжить последнюю игру</button>'),i.insertAdjacentHTML("beforeend",'<button class="random btn" >Случайная игра</button>'),i.insertAdjacentHTML("beforeend",'\n    <div class="level-div">\n      <label class="level-label ">Choose level: </label>\n      <select class="level">\n        <optgroup id="easy"  label="easy levels 5x5">\n        </optgroup>\n        <optgroup  id="normal"  label="normal levels 10x10">\n        </optgroup>\n        <optgroup id="hard" label="hard levels 15x15">\n        </optgroup>\n      </select>\n    </div>\n    ');const n=document.querySelector("#easy"),l=document.querySelector("#normal"),o=document.querySelector("#hard");for(const e in p)for(let t=0;t<p[e].levels.length;t++)"easy"===p[e].name?M==t?n.insertAdjacentHTML("beforeend",`<option value="${p[e].levels[t][0].name}" selected>${p[e].levels[t][0].name}</option>`):n.insertAdjacentHTML("beforeend",`<option value="${p[e].levels[t][0].name}">${p[e].levels[t][0].name}</option>`):"normal"===p[e].name?l.insertAdjacentHTML("beforeend",`<option value="${p[e].levels[t][0].name}">${p[e].levels[t][0].name}</option>`):"hard"===p[e].name&&o.insertAdjacentHTML("beforeend",`<option value="${p[e].levels[t][0].name}">${p[e].levels[t][0].name}</option>`)}(),localStorage.getItem("sound")&&(H=JSON.parse(localStorage.getItem("sound")),!H)){const e=document.querySelector(".sound");for(let t=1;t<e.children.length;t++)e.children[t].classList.toggle("wave")}if(localStorage.getItem("records")&&(T.push(...JSON.parse(localStorage.getItem("records"))),L(T),T.length>0)&&(document.querySelector(".aside").style.display="block"),localStorage.getItem("theme")){I=JSON.parse(localStorage.getItem("theme")),I=!I;const e=document.querySelector(".circle-svg"),t=document.querySelector("#Oval-1"),i=document.querySelector("#Oval-2");let n="black",l="white",o="grey";I?(document.body.classList.add("dark-theme"),e.style="left:40%;",t.style.fill="white",i.style.fill="black",n="#e5e5e5",l="#646c6f",o="#b8bcb6",I=!1):(document.body.classList.remove("dark-theme"),e.style=" left:0; \n  transition: all ease .5s;\n  transform: rotate(0deg);",t.style.fill="black",i.style.fill="white",n="black",l="white",o="#cccccc",I=!0),b.changeColor(n,l,o)}function X(e){e.preventDefault();let t=-1;if(0===e.button&&(t=b.fillCell(e),2==t&&b.addActionIntoStack(b.fillCell,e)),2===e.button&&(t=b.strokeHints(e),1==t&&b.addActionIntoStack(b.strokeHints,e),t=b.strokeCell(e),0==t&&b.addActionIntoStack(b.strokeCell,e)),!O.value||0!=t&&2!=t||(Y=setInterval((()=>G(E)),1e3),O.value=!1),R=function(e,t){let i=0;for(let n=0;n<e.length;n++)for(let l=0;l<e[n].length;l++)1===e[n][l]&&1===t[n][l]&&i++,0===e[n][l]&&1===t[n][l]&&(i-=1);return i}(b.getGrid(),b.getGridBuffer()),R==A){clearInterval(Y),function(e){H&&new Audio(C).play(),document.querySelector(".modal-title").textContent=`Отлично! Вы решили кроссворд за ${e.value} секунд!`;const t=document.querySelector("dialog");t.showModal(),document.querySelector(".close").addEventListener("click",(()=>{t.close();const i=b.getGrid();b.deleteGrid(),b.initializeGrid(i),document.getElementById("canvas").addEventListener("mousedown",(e=>X(e))),e.value=-1,G(e),O.value=!0}))}(E);const e={time:E.value},t=document.querySelector("select.level");for(let i=0;i<t.options.length;i++)i===t.options.selectedIndex&&(e.name=t.options[i].value,e.level=t.options[i].parentNode.label);5==T.length&&T.pop(),T.unshift(e),L(T)}}b.initializeGrid(p.easy.levels[M][1]),A=v(p.easy.levels[M][1]),document.getElementById("canvas").addEventListener("mousedown",(e=>X(e))),document.addEventListener("keydown",(e=>function(e){"KeyZ"==e.code&&(e.ctrlKey||e.metaKey)&&b.prevState()}(e))),document.querySelector(".reset").addEventListener("click",(()=>{B=!1;const e=b.getGrid();b.deleteGrid(),b.initializeGrid(e),document.getElementById("canvas").addEventListener("mousedown",(e=>X(e))),E.value=-1,clearInterval(Y),G(E),O.value=!0})),document.querySelector(".decision").addEventListener("click",(()=>{if(B){const e=b.getGrid();b.deleteGrid(),b.initializeGrid(e),document.getElementById("canvas").addEventListener("mousedown",(e=>X(e))),B=!1}else{const e=b.getGrid();b.deleteGrid(),b.initializeGrid(e),b.drawDecision(),B=!0}})),document.querySelector(".save").addEventListener("click",(()=>{k.value.GRID=b.getGrid(),k.value.GRIDBuffer=b.getGridBuffer(),k.value.rowsHints=b.getRowsHints(),k.value.columnsHints=b.getColumnsHints(),k.value.time=E.value;const e=document.querySelector("select.level");k.value.name=e.options[e.selectedIndex].value,k.value.count=R,k.value.countGrid=A,localStorage.setItem("savedGame",JSON.stringify(k.value))})),document.querySelector(".continue").addEventListener("click",(()=>{if(B=!1,localStorage.getItem("savedGame")){k.value=JSON.parse(localStorage.getItem("savedGame")),b.deleteGrid(),b.initializeGrid(k.value.GRID),b.setGridBuffer(k.value.GRIDBuffer),b.setRowsHints(k.value.rowsHints),b.setColumnsHints(k.value.columnsHints),b.continueGame(),A=k.value.countGrid,R=k.value.count,E.value=k.value.time,G(E),clearInterval(Y),O.value=!0,document.getElementById("canvas").addEventListener("mousedown",(e=>X(e)));const e=document.querySelector(`select.level option[value="${k.value.name}"]`),t=document.querySelector("select.level");for(let i=0;i<t.options.length;i++)t.options[i].value===e.value&&(t.options.selectedIndex=i)}})),document.querySelector(".random").addEventListener("click",(()=>{B=!1;const e=document.querySelector("select.level");let t,i=Math.round(14*Math.random());q===i&&(i=Math.round(14*Math.random()/2)),q=i;for(let n=0;n<e.options.length;n++)n===i&&(e.options.selectedIndex=i,t=e.options[i].value);for(const e in p)for(let i=0;i<p[e].levels.length;i++)p[e].levels[i][0].name===t&&(b.deleteGrid(),b.initializeGrid(p[e].levels[i][1]),document.getElementById("canvas").addEventListener("mousedown",(e=>X(e))),clearInterval(Y),O.value=!0,E.value=-1,G(E),A=v(p[e].levels[i][1]),R=0)})),document.querySelector(".level").addEventListener("change",(e=>{B=!1;for(const t in p)for(let i=0;i<p[t].levels.length;i++)p[t].levels[i][0].name===e.target.value&&(b.deleteGrid(),b.initializeGrid(p[t].levels[i][1]),document.getElementById("canvas").addEventListener("mousedown",(e=>X(e))),clearInterval(Y),O.value=!0,E.value=-1,G(E),A=v(p[t].levels[i][1]),R=0)})),document.querySelector(".change-theme").addEventListener("click",(function(){const e=document.querySelector(".circle-svg"),t=document.querySelector("#Oval-1"),i=document.querySelector("#Oval-2");let n="black",l="white",o="grey";I?(document.body.classList.add("dark-theme"),e.style=" left:40%; \n  transition: all ease .5s;\n  transform: rotate(360deg);",t.style.fill="white",i.style.fill="black",n="#e5e5e5",l="#646c6f",o="#b8bcb6",I=!1):(document.body.classList.remove("dark-theme"),e.style=" left:0; \n  transition: all ease .5s;\n  transform: rotate(0deg);",t.style.fill="black",i.style.fill="white",n="black",l="white",o="#cccccc",I=!0),b.changeColor(n,l,o);const s=b.getGrid(),r=b.getGridBuffer(),a=b.getRowsHints(),c=b.getColumnsHints();b.deleteGrid(),b.initializeGrid(s),b.setGridBuffer(r),b.setRowsHints(a),b.setColumnsHints(c),b.continueGame(),document.getElementById("canvas").addEventListener("mousedown",(e=>X(e))),localStorage.setItem("theme",I)})),document.querySelector(".sound").addEventListener("click",(function(){const e=document.querySelector(".sound");H=!H;for(let t=1;t<e.children.length;t++)e.children[t].classList.toggle("wave");localStorage.setItem("sound",H)}))})()})();